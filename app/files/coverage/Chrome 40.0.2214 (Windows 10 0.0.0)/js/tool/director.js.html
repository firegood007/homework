<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for js\tool\director.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../prettify.css" />
    <link rel="stylesheet" href="../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../index.html">all files</a> / <a href="index.html">js/tool/</a> director.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">28.4% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>69/243</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">24.92% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>80/321</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">21.67% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>13/60</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>3/3</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">//
// Generated on Tue Dec 16 2014 12:13:47 GMT+0100 (CET) by Charlie Robbins, Paolo Fragomeni &amp; the Contributors (Using Codesurgeon).
// Version 1.2.6
//
define(function(){
	(function(a){function k(a,b,c,d){var e=0,f=0,g=0,c=(c||"(").toString(),d=(d||")").toString(),h;for(h=0;h&lt;a.length;h++){var i=a[h];<span class="missing-if-branch" title="if path not taken" >I</span>if(i.indexOf(c,e)&gt;i.indexOf(d,e)||~i.indexOf(c,e)&amp;&amp;<span class="branch-2 cbranch-no" title="branch not covered" >!~i.indexOf(d,e)|</span>|!~i.indexOf(c,e)&amp;&amp;~i.indexOf(d,e)){<span class="cstat-no" title="statement not covered" >f=i.indexOf(c,e),g=i.indexOf(d,e);<span class="cstat-no" title="statement not covered" >i</span>f(~f&amp;&amp;!~g||!~f&amp;&amp;~g){<span class="cstat-no" title="statement not covered" >var j=a.slice(0,(h||1)+1).join(b);<span class="cstat-no" title="statement not covered" >a</span>=[j].concat(a.slice((h||1)+1))}<span class="cstat-no" title="statement not covered" ></span>e</span>=(g&gt;f?g:f)+1,h=0}</span>else e=0}return a}<span class="fstat-no" title="function not covered" >function j(a,b){<span class="cstat-no" title="statement not covered" ></span>var c,d=0,e="";<span class="cstat-no" title="statement not covered" >w</span>hile(c=a.substr(d).match(/[^\w\d\- %@&amp;]*\*[^\w\d\- %@&amp;]*/))<span class="cstat-no" title="statement not covered" >d=c.index+c[0].length,c[0]=c[0].replace(/^\*/,"([_.()!\\ %@&amp;a-zA-Z0-9-]+)"),e+=a.substr(0,c.index)+c[0];<span class="cstat-no" title="statement not covered" >a</span></span>=e+=a.substr(d);<span class="cstat-no" title="statement not covered" >v</span>ar f=a.match(/:([^\/]+)/ig),g,h;<span class="cstat-no" title="statement not covered" >i</span>f(f){<span class="cstat-no" title="statement not covered" >h=f.length;<span class="cstat-no" title="statement not covered" >f</span>or(var j=0;j&lt;h;j++)<span class="cstat-no" title="statement not covered" >g=f[j],g.slice(0,2)==="::"?a=g.slice(1):a=a.replace(g,i(g,b))}<span class="cstat-no" title="statement not covered" ></span></span>r</span>eturn a}<span class="fstat-no" title="function not covered" ></span>function i(a,b,c){<span class="cstat-no" title="statement not covered" ></span>c=a;<span class="cstat-no" title="statement not covered" >f</span>or(var d in b)<span class="cstat-no" title="statement not covered" >if(b.hasOwnProperty(d)){<span class="cstat-no" title="statement not covered" >c=b[d](a);<span class="cstat-no" title="statement not covered" >i</span>f(c!==a)<span class="cstat-no" title="statement not covered" >break}<span class="cstat-no" title="statement not covered" ></span></span>r</span></span>eturn c===a?"([._a-zA-Z0-9-%()]+)":c}<span class="fstat-no" title="function not covered" ></span>function h(a,b,c){<span class="cstat-no" title="statement not covered" ></span>if(!a.length)<span class="cstat-no" title="statement not covered" >return c();<span class="cstat-no" title="statement not covered" >v</span></span>ar d=0;<span class="cstat-no" title="statement not covered" >(<span class="fstat-no" title="function not covered" ></span>function e(){<span class="cstat-no" title="statement not covered" ></span>b(a[d],<span class="fstat-no" title="function not covered" >function(b){<span class="cstat-no" title="statement not covered" ></span>b||b===!1?(c(b),c=<span class="fstat-no" title="function not covered" >function(){</span>}):(d+=1,d===a.length?c():e())}</span>)}</span>)()}<span class="fstat-no" title="function not covered" ></span>function g(a){<span class="cstat-no" title="statement not covered" ></span>var b=[];<span class="cstat-no" title="statement not covered" >f</span>or(var c=0,d=a.length;c&lt;d;c++)<span class="cstat-no" title="statement not covered" >b=b.concat(a[c]);<span class="cstat-no" title="statement not covered" >r</span></span>eturn b}<span class="fstat-no" title="function not covered" ></span>function f(a,b){<span class="cstat-no" title="statement not covered" ></span>for(var c=0;c&lt;a.length;c+=1)<span class="cstat-no" title="statement not covered" >if(b(a[c],c,a)===!1)<span class="cstat-no" title="statement not covered" >return}</span></span></span>function c(){return b.hash===""||<span class="branch-1 cbranch-no" title="branch not covered" >b.hash==="#"}</span>var b=document.location,d={mode:"modern",hash:b.hash,history:!1,check:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var a=b.hash;<span class="cstat-no" title="statement not covered" >a</span>!=this.hash&amp;&amp;(this.hash=a,this.onHashChanged())}</span>,fire:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>this.mode==="modern"?this.history===!0?window.onpopstate():window.onhashchange():this.onHashChanged()}</span>,init:function(a,b){<span class="fstat-no" title="function not covered" >function d(a){<span class="cstat-no" title="statement not covered" ></span>for(var b=0,c=e.listeners.length;b&lt;c;b++)<span class="cstat-no" title="statement not covered" >e.listeners[b](a)}</span></span>var c=this;this.history=b,e.listeners||(e.listeners=[]);<span class="missing-if-branch" title="else path not taken" >E</span>if("onhashchange"in window&amp;&amp;(document.documentMode===undefined||<span class="branch-2 cbranch-no" title="branch not covered" >document.documentMode&gt;7)</span>)this.history===!0?<span class="branch-0 cbranch-no" title="branch not covered" >setTimeout(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>window.onpopstate=d}</span>,500):</span>window.onhashchange=d,this.mode="modern";else{<span class="cstat-no" title="statement not covered" >var f=document.createElement("iframe");<span class="cstat-no" title="statement not covered" >f</span>.id="state-frame",f.style.display="none",document.body.appendChild(f),this.writeFrame(""),"onpropertychange"in document&amp;&amp;"attachEvent"in document&amp;&amp;document.attachEvent("onpropertychange",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>event.propertyName==="location"&amp;&amp;c.check()}</span>),window.setInterval(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>c.check()}</span>,50),this.onHashChanged=d,this.mode="legacy"}</span>e.listeners.push(a);return this.mode},destroy:<span class="fstat-no" title="function not covered" >function(a){<span class="cstat-no" title="statement not covered" ></span>if(!!e&amp;&amp;!!e.listeners){<span class="cstat-no" title="statement not covered" >var b=e.listeners;<span class="cstat-no" title="statement not covered" >f</span>or(var c=b.length-1;c&gt;=0;c--)<span class="cstat-no" title="statement not covered" >b[c]===a&amp;&amp;b.splice(c,1)}</span></span>}</span>,setHash:<span class="fstat-no" title="function not covered" >function(a){<span class="cstat-no" title="statement not covered" ></span>this.mode==="legacy"&amp;&amp;this.writeFrame(a),this.history===!0?(window.history.pushState({},document.title,a),this.fire()):b.hash=a[0]==="/"?a:"/"+a;<span class="cstat-no" title="statement not covered" >r</span>eturn this}</span>,writeFrame:<span class="fstat-no" title="function not covered" >function(a){<span class="cstat-no" title="statement not covered" ></span>var b=document.getElementById("state-frame"),c=b.contentDocument||b.contentWindow.document;<span class="cstat-no" title="statement not covered" >c</span>.open(),c.write("&lt;script&gt;_hash = '"+a+"'; onload = parent.listener.syncHash;&lt;script&gt;"),c.close()}</span>,syncHash:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var a=this._hash;<span class="cstat-no" title="statement not covered" >a</span>!=b.hash&amp;&amp;(b.hash=a);<span class="cstat-no" title="statement not covered" >r</span>eturn this}</span>,onHashChanged:<span class="fstat-no" title="function not covered" >function(){</span>}},e=a.Router=function(a){if(this instanceof e)this.params={},this.routes={},this.methods=["on","once","after","before"],this.scope=[],this._methods={},this._insert=this.insert,this.insert=this.insertEx,this.historySupport=(window.history!=null?window.history.pushState:<span class="branch-1 cbranch-no" title="branch not covered" >null)</span>!=null,this.configure(),this.mount(a||<span class="branch-1 cbranch-no" title="branch not covered" >{})</span>;else return new e(a)};e.prototype.init=function(a){var e=this,f;this.handler=<span class="fstat-no" title="function not covered" >function(a){<span class="cstat-no" title="statement not covered" ></span>var b=a&amp;&amp;a.newURL||window.location.hash,c=e.history===!0?e.getPath():b.replace(/.*#/,"");<span class="cstat-no" title="statement not covered" >e</span>.dispatch("on",c.charAt(0)==="/"?c:"/"+c)}</span>,d.init(this.handler,this.history),this.history===!1?c()&amp;&amp;a?b.hash=a:<span class="branch-1 cbranch-no" title="branch not covered" >c()||e.dispatch("on","/"+b.hash.replace(/^(#\/|#|\/)/,"")):</span>(<span class="branch-1 cbranch-no" title="branch not covered" >this.convert_hash_in_init?(f=c()&amp;&amp;a?a:c()?null:b.hash.replace(/^#/,""),f&amp;&amp;window.history.replaceState({},document.title,f)):f=this.getPath(),(f||this.run_in_init===!0)&amp;&amp;this.handler())</span>;return this},e.prototype.explode=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var a=this.history===!0?this.getPath():b.hash;<span class="cstat-no" title="statement not covered" >a</span>.charAt(1)==="/"&amp;&amp;(a=a.slice(1));<span class="cstat-no" title="statement not covered" >r</span>eturn a.slice(1,a.length).split("/")}</span>,e.prototype.setRoute=<span class="fstat-no" title="function not covered" >function(a,b,c){<span class="cstat-no" title="statement not covered" ></span>var e=this.explode();<span class="cstat-no" title="statement not covered" >t</span>ypeof a=="number"&amp;&amp;typeof b=="string"?e[a]=b:typeof c=="string"?e.splice(a,b,s):e=[a],d.setHash(e.join("/"));<span class="cstat-no" title="statement not covered" >r</span>eturn e}</span>,e.prototype.insertEx=function(a,b,c,d){a==="once"&amp;&amp;(<span class="branch-1 cbranch-no" title="branch not covered" >a="on",c=<span class="fstat-no" title="function not covered" >function(a){<span class="cstat-no" title="statement not covered" ></span>var b=!1;<span class="cstat-no" title="statement not covered" >r</span>eturn <span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(!b){<span class="cstat-no" title="statement not covered" >b=!0;<span class="cstat-no" title="statement not covered" >r</span>eturn a.apply(this,arguments)}</span>}</span>}</span>(c))</span>;return this._insert(a,b,c,d)},e.prototype.getRoute=<span class="fstat-no" title="function not covered" >function(a){<span class="cstat-no" title="statement not covered" ></span>var b=a;<span class="cstat-no" title="statement not covered" >i</span>f(typeof a=="number")<span class="cstat-no" title="statement not covered" >b=this.explode()[a];e</span>lse <span class="cstat-no" title="statement not covered" >if(typeof a=="string"){<span class="cstat-no" title="statement not covered" >var c=this.explode();<span class="cstat-no" title="statement not covered" >b</span>=c.indexOf(a)}</span>else <span class="cstat-no" title="statement not covered" >b=this.explode();<span class="cstat-no" title="statement not covered" >r</span></span></span>eturn b}</span>,e.prototype.destroy=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>d.destroy(this.handler);<span class="cstat-no" title="statement not covered" >r</span>eturn this}</span>,e.prototype.getPath=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var a=window.location.pathname;<span class="cstat-no" title="statement not covered" >a</span>.substr(0,1)!=="/"&amp;&amp;(a="/"+a);<span class="cstat-no" title="statement not covered" >r</span>eturn a}</span>;var l=/\?.*/;e.prototype.configure=function(a){a=a||{};for(var b=0;b&lt;this.methods.length;b++)this._methods[this.methods[b]]=!0;this.recurse=a.recurse||this.recurse||!1,this.async=a.async||!1,this.delimiter=a.delimiter||"/",this.strict=typeof a.strict=="undefined"?!0:<span class="branch-1 cbranch-no" title="branch not covered" >a.strict,</span>this.notfound=a.notfound,this.resource=a.resource,this.history=a.html5history&amp;&amp;<span class="branch-1 cbranch-no" title="branch not covered" >this.historySupport|</span>|!1,this.run_in_init=this.history===!0&amp;&amp;<span class="branch-1 cbranch-no" title="branch not covered" >a.run_handler_in_init!==!1,</span>this.convert_hash_in_init=this.history===!0&amp;&amp;<span class="branch-1 cbranch-no" title="branch not covered" >a.convert_hash_in_init!==!1,</span>this.every={after:a.after||null,before:a.before||null,on:a.on||null};return this},e.prototype.param=<span class="fstat-no" title="function not covered" >function(a,b){<span class="cstat-no" title="statement not covered" ></span>a[0]!==":"&amp;&amp;(a=":"+a);<span class="cstat-no" title="statement not covered" >v</span>ar c=new RegExp(a,"g");<span class="cstat-no" title="statement not covered" >t</span>his.params[a]=<span class="fstat-no" title="function not covered" >function(a){<span class="cstat-no" title="statement not covered" ></span>return a.replace(c,b.source||b)}</span>;<span class="cstat-no" title="statement not covered" >r</span>eturn this}</span>,e.prototype.on=e.prototype.route=<span class="fstat-no" title="function not covered" >function(a,b,c){<span class="cstat-no" title="statement not covered" ></span>var d=this;<span class="cstat-no" title="statement not covered" >!</span>c&amp;&amp;typeof b=="function"&amp;&amp;(c=b,b=a,a="on");<span class="cstat-no" title="statement not covered" >i</span>f(Array.isArray(b))<span class="cstat-no" title="statement not covered" >return b.forEach(<span class="fstat-no" title="function not covered" >function(b){<span class="cstat-no" title="statement not covered" ></span>d.on(a,b,c)}</span>);<span class="cstat-no" title="statement not covered" >b</span></span>.source&amp;&amp;(b=b.source.replace(/\\\//ig,"/"));<span class="cstat-no" title="statement not covered" >i</span>f(Array.isArray(a))<span class="cstat-no" title="statement not covered" >return a.forEach(<span class="fstat-no" title="function not covered" >function(a){<span class="cstat-no" title="statement not covered" ></span>d.on(a.toLowerCase(),b,c)}</span>);<span class="cstat-no" title="statement not covered" >b</span></span>=b.split(new RegExp(this.delimiter)),b=k(b,this.delimiter),this.insert(a,this.scope.concat(b),c)}</span>,e.prototype.path=<span class="fstat-no" title="function not covered" >function(a,b){<span class="cstat-no" title="statement not covered" ></span>var c=this,d=this.scope.length;<span class="cstat-no" title="statement not covered" >a</span>.source&amp;&amp;(a=a.source.replace(/\\\//ig,"/")),a=a.split(new RegExp(this.delimiter)),a=k(a,this.delimiter),this.scope=this.scope.concat(a),b.call(this,this),this.scope.splice(d,a.length)}</span>,e.prototype.dispatch=<span class="fstat-no" title="function not covered" >function(a,b,c){<span class="fstat-no" title="function not covered" ></span>function h(){<span class="cstat-no" title="statement not covered" ></span>d.last=e.after,d.invoke(d.runlist(e),d,c)}<span class="cstat-no" title="statement not covered" ></span>var d=this,e=this.traverse(a,b.replace(l,""),this.routes,""),f=this._invoked,g;<span class="cstat-no" title="statement not covered" >t</span>his._invoked=!0;<span class="cstat-no" title="statement not covered" >i</span>f(!e||e.length===0){<span class="cstat-no" title="statement not covered" >this.last=[],typeof this.notfound=="function"&amp;&amp;this.invoke([this.notfound],{method:a,path:b},c);<span class="cstat-no" title="statement not covered" >r</span>eturn!1}<span class="cstat-no" title="statement not covered" ></span>t</span>his.recurse==="forward"&amp;&amp;(e=e.reverse()),g=this.every&amp;&amp;this.every.after?[this.every.after].concat(this.last):[this.last];<span class="cstat-no" title="statement not covered" >i</span>f(g&amp;&amp;g.length&gt;0&amp;&amp;f){<span class="cstat-no" title="statement not covered" >this.async?this.invoke(g,this,h):(this.invoke(g,this),h());<span class="cstat-no" title="statement not covered" >r</span>eturn!0}<span class="cstat-no" title="statement not covered" ></span>h</span>();<span class="cstat-no" title="statement not covered" >r</span>eturn!0}</span>,e.prototype.invoke=<span class="fstat-no" title="function not covered" >function(a,b,c){<span class="cstat-no" title="statement not covered" ></span>var d=this,e;<span class="cstat-no" title="statement not covered" >t</span>his.async?(e=<span class="fstat-no" title="function not covered" >function(c,d){<span class="cstat-no" title="statement not covered" ></span>if(Array.isArray(c))<span class="cstat-no" title="statement not covered" >return h(c,e,d);<span class="cstat-no" title="statement not covered" >t</span></span>ypeof c=="function"&amp;&amp;c.apply(b,(a.captures||[]).concat(d))}</span>,h(a,e,<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>c&amp;&amp;c.apply(b,arguments)}</span>)):(e=<span class="fstat-no" title="function not covered" >function(c){<span class="cstat-no" title="statement not covered" ></span>if(Array.isArray(c))<span class="cstat-no" title="statement not covered" >return f(c,e);<span class="cstat-no" title="statement not covered" >i</span></span>f(typeof c=="function")<span class="cstat-no" title="statement not covered" >return c.apply(b,a.captures||[]);<span class="cstat-no" title="statement not covered" >t</span></span>ypeof c=="string"&amp;&amp;d.resource&amp;&amp;d.resource[c].apply(b,a.captures||[])}</span>,f(a,e))}</span>,e.prototype.traverse=<span class="fstat-no" title="function not covered" >function(a,b,c,d,e){<span class="fstat-no" title="function not covered" ></span>function l(a){<span class="fstat-no" title="function not covered" ></span>function c(a){<span class="cstat-no" title="statement not covered" ></span>for(var b=a.length-1;b&gt;=0;b--)<span class="cstat-no" title="statement not covered" >Array.isArray(a[b])?(c(a[b]),a[b].length===0&amp;&amp;a.splice(b,1)):e(a[b])||a.splice(b,1)}<span class="fstat-no" title="function not covered" ></span></span>function b(a){<span class="cstat-no" title="statement not covered" ></span>var c=[];<span class="cstat-no" title="statement not covered" >f</span>or(var d=0;d&lt;a.length;d++)<span class="cstat-no" title="statement not covered" >c[d]=Array.isArray(a[d])?b(a[d]):a[d];<span class="cstat-no" title="statement not covered" >r</span></span>eturn c}<span class="cstat-no" title="statement not covered" ></span>if(!e)<span class="cstat-no" title="statement not covered" >return a;<span class="cstat-no" title="statement not covered" >v</span></span>ar d=b(a);<span class="cstat-no" title="statement not covered" >d</span>.matched=a.matched,d.captures=a.captures,d.after=a.after.filter(e),c(d);<span class="cstat-no" title="statement not covered" >r</span>eturn d}<span class="cstat-no" title="statement not covered" ></span>var f=[],g,h,i,j,k;<span class="cstat-no" title="statement not covered" >i</span>f(b===this.delimiter&amp;&amp;c[a]){<span class="cstat-no" title="statement not covered" >j=[[c.before,c[a]].filter(Boolean)],j.after=[c.after].filter(Boolean),j.matched=!0,j.captures=[];<span class="cstat-no" title="statement not covered" >r</span>eturn l(j)}<span class="cstat-no" title="statement not covered" ></span>f</span>or(var m in c)<span class="cstat-no" title="statement not covered" >if(c.hasOwnProperty(m)&amp;&amp;(!this._methods[m]||this._methods[m]&amp;&amp;typeof c[m]=="object"&amp;&amp;!Array.isArray(c[m]))){<span class="cstat-no" title="statement not covered" >g=h=d+this.delimiter+m,this.strict||(h+="["+this.delimiter+"]?"),i=b.match(new RegExp("^"+h));<span class="cstat-no" title="statement not covered" >i</span>f(!i)<span class="cstat-no" title="statement not covered" >continue;<span class="cstat-no" title="statement not covered" >i</span></span>f(i[0]&amp;&amp;i[0]==b&amp;&amp;c[m][a]){<span class="cstat-no" title="statement not covered" >j=[[c[m].before,c[m][a]].filter(Boolean)],j.after=[c[m].after].filter(Boolean),j.matched=!0,j.captures=i.slice(1),this.recurse&amp;&amp;c===this.routes&amp;&amp;(j.push([c.before,c.on].filter(Boolean)),j.after=j.after.concat([c.after].filter(Boolean)));<span class="cstat-no" title="statement not covered" >r</span>eturn l(j)}<span class="cstat-no" title="statement not covered" ></span>j</span>=this.traverse(a,b,c[m],g);<span class="cstat-no" title="statement not covered" >i</span>f(j.matched){<span class="cstat-no" title="statement not covered" >j.length&gt;0&amp;&amp;(f=f.concat(j)),this.recurse&amp;&amp;(f.push([c[m].before,c[m].on].filter(Boolean)),j.after=j.after.concat([c[m].after].filter(Boolean)),c===this.routes&amp;&amp;(f.push([c.before,c.on].filter(Boolean)),j.after=j.after.concat([c.after].filter(Boolean)))),f.matched=!0,f.captures=j.captures,f.after=j.after;<span class="cstat-no" title="statement not covered" >r</span>eturn l(f)}</span>}<span class="cstat-no" title="statement not covered" ></span>r</span></span>eturn!1}</span>,e.prototype.insert=function(a,b,c,d){var e,f,g,h,i;b=b.filter(function(a){return a&amp;&amp;a.length&gt;0}),d=d||this.routes,i=b.shift(),/\:|\*/.test(i)&amp;&amp;<span class="branch-1 cbranch-no" title="branch not covered" >!/\\d|\\w/.test(i)&amp;</span>&amp;(<span class="branch-2 cbranch-no" title="branch not covered" >i=j(i,this.params))</span>;<span class="missing-if-branch" title="if path not taken" >I</span>if(b.length&gt;0){<span class="cstat-no" title="statement not covered" >d[i]=d[i]||{};<span class="cstat-no" title="statement not covered" >r</span>eturn this.insert(a,b,c,d[i])}</span>{if(!!i||!!b.length||d!==this.routes){f=typeof d[i],g=Array.isArray(d[i]);<span class="missing-if-branch" title="if path not taken" >I</span>if(d[i]&amp;&amp;<span class="branch-1 cbranch-no" title="branch not covered" >!g&amp;</span>&amp;<span class="branch-2 cbranch-no" title="branch not covered" >f=="object")</span>{<span class="cstat-no" title="statement not covered" >e=typeof d[i][a];<span class="cstat-no" title="statement not covered" >s</span>witch(e){case"function":<span class="cstat-no" title="statement not covered" >d[i][a]=[d[i][a],c];<span class="cstat-no" title="statement not covered" >r</span>eturn;c</span>ase"object":<span class="cstat-no" title="statement not covered" >d[i][a].push(c);<span class="cstat-no" title="statement not covered" >r</span>eturn;c</span>ase"undefined":<span class="cstat-no" title="statement not covered" >d[i][a]=c;<span class="cstat-no" title="statement not covered" >r</span>eturn}</span>}</span>else <span class="missing-if-branch" title="else path not taken" >E</span>if(f=="undefined"){h={},h[a]=c,d[i]=h;return}<span class="cstat-no" title="statement not covered" >throw new Error("Invalid route context: "+f)}</span>e=typeof d[a];switch(e){<span class="branch-0 cbranch-no" title="branch not covered" >case"function":<span class="cstat-no" title="statement not covered" >d[a]=[d[a],c];<span class="cstat-no" title="statement not covered" >r</span>eturn;<span class="branch-1 cbranch-no" title="branch not covered" >c</span></span>ase"object":<span class="cstat-no" title="statement not covered" >d[a].push(c);<span class="cstat-no" title="statement not covered" >r</span>eturn;c</span></span>ase"undefined":d[a]=c;return}}},e.prototype.extend=<span class="fstat-no" title="function not covered" >function(a){<span class="fstat-no" title="function not covered" ></span>function e(a){<span class="cstat-no" title="statement not covered" ></span>b._methods[a]=!0,b[a]=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var c=arguments.length===1?[a,""]:[a];<span class="cstat-no" title="statement not covered" >b</span>.on.apply(b,c.concat(Array.prototype.slice.call(arguments)))}</span>}<span class="cstat-no" title="statement not covered" ></span>var b=this,c=a.length,d;<span class="cstat-no" title="statement not covered" >f</span>or(d=0;d&lt;c;d++)<span class="cstat-no" title="statement not covered" >e(a[d])}</span></span>,e.prototype.runlist=<span class="fstat-no" title="function not covered" >function(a){<span class="cstat-no" title="statement not covered" ></span>var b=this.every&amp;&amp;this.every.before?[this.every.before].concat(g(a)):g(a);<span class="cstat-no" title="statement not covered" >t</span>his.every&amp;&amp;this.every.on&amp;&amp;b.push(this.every.on),b.captures=a.captures,b.source=a.source;<span class="cstat-no" title="statement not covered" >r</span>eturn b}</span>,e.prototype.mount=function(a,b){function d(b,d){var e=b,f=b.split(c.delimiter),g=typeof a[b],h=f[0]===""||<span class="branch-1 cbranch-no" title="branch not covered" >!c._methods[f[0]],</span>i=h?"on":<span class="branch-1 cbranch-no" title="branch not covered" >e;</span>h&amp;&amp;(e=e.slice((e.match(new RegExp("^"+c.delimiter))||<span class="branch-1 cbranch-no" title="branch not covered" >[""])</span>[0].length),f.shift());h&amp;&amp;g==="object"&amp;&amp;<span class="branch-2 cbranch-no" title="branch not covered" >!Array.isArray(a[b])?</span>(<span class="branch-0 cbranch-no" title="branch not covered" >d=d.concat(f),c.mount(a[b],d))</span>:(h&amp;&amp;(d=d.concat(e.split(c.delimiter)),d=k(d,c.delimiter)),c.insert(i,d,a[b]))}<span class="missing-if-branch" title="else path not taken" >E</span>if(!!a&amp;&amp;typeof a=="object"&amp;&amp;!Array.isArray(a)){var c=this;b=b||[],Array.isArray(b)||(<span class="branch-1 cbranch-no" title="branch not covered" >b=b.split(c.delimiter))</span>;for(var e in a)a.hasOwnProperty(e)&amp;&amp;d(e,b.slice(0))}}})(typeof exports=="object"?<span class="branch-0 cbranch-no" title="branch not covered" >exports:</span>window)
	return Router;
})
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Sat Feb 11 2017 20:35:15 GMT+0800 (中国标准时间)
</div>
</div>
<script src="../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../sorter.js"></script>
</body>
</html>
